<head>
	<meta charset="utf-8">
	<title>Laboratorio de tension - Universidad del Valle - Reider Mu√±oz</title>
	<style>
		body {
			margin: 0;
		}
		canvas {
			width: 100%;
			height: 100%
		}
	</style>
</head>
<body>
	<script src="https://cdn.jsdelivr.net/npm/three@0.136.0/build/three.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/controls/OrbitControls.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/three@0.136.0/examples/js/loaders/GLTFLoader.js"></script>
	<script>
		var scene = new THREE.Scene();
		var camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
		var Mesa1;
		const renderer = new THREE.WebGLRenderer();
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);
		clock = new THREE.Clock();
		scene = new THREE.Scene();
		scene.background = new THREE.Color(0xa0a0a0);
		scene.fog = new THREE.Fog(0xa0a0a0, 10, 50);
		const hemiLight = new THREE.HemisphereLight(0xffffff, 0x444444);
		hemiLight.position.set(0, 20, 0);
		scene.add(hemiLight);
		const dirLight = new THREE.DirectionalLight(0xffffff);
		dirLight.position.set(- 3, 10, - 10);
		dirLight.castShadow = true;
		dirLight.shadow.camera.top = 2;
		dirLight.shadow.camera.bottom = - 2;
		dirLight.shadow.camera.left = - 2;
		dirLight.shadow.camera.right = 2;
		dirLight.shadow.camera.near = 0.1;
		dirLight.shadow.camera.far = 40;
		scene.add(dirLight);
		const controls = new THREE.OrbitControls(camera, renderer.domElement);
		camera.position.set(5, 2, 0); // posicion de la camara (0, 5, 5)
		controls.update();
		renderer.render(scene, camera);
		var Vtiempo=[];
        var Seno=[];
        var Po=0.25;
        var Wn=2;
        var Segundos=60;
        function contador (){
     	 var contador1=0;
		 var t=0;
         function Senoiterativo (){
	     Vtiempo[contador1]=contador1;
	      Seno[contador1]=Po*Math.sin(Wn*t);
		  Mesa1.position.z=Seno[contador1]
		  console.log(Seno[contador1]);
		  //Mesa1.position.x=-Seno[contador1]
	       contador1++;
		   t=t+1;
           //console.log(Vtiempo);
		   //console.log(Mesa1.position.y);
		   renderer.render(scene, camera);
         if (contador1==Segundos+1){
             clearInterval(tiempo);
               }
                  }
          var tiempo=setInterval(Senoiterativo,1000)
                }
          contador()
		// function animate() {
		// 	requestAnimationFrame(animate);
		// 			controls.update();
        //     var h;
		// 	if (Mesa1) {
		// 		if(Mesa1.position.y<=2.9){
		// 			Mesa1.position.y+=Seno[1];
					
		// 		}else{
		// 			Mesa1.position.y=3.5
		// 			Mesa1.position.x+=0

		// 		}
		// 		console.log(Mesa1.position.y)
		// 	}
		// 	renderer.render(scene, camera);

		// }
		// animate()
// Instantiate a loader
const loader2 = new THREE.GLTFLoader();
// Load a glTF resource
loader2.load(
	'Mesa1.gltf',//'scene.gltf'
	function ( gltf ) {
		Mesa1 = gltf.scene; 
		scene.add( Mesa1 );
		gltf.animations; // Array<THREE.AnimationClip>
		gltf.scene; // THREE.Group
		gltf.scenes; // Array<THREE.Group>
		gltf.cameras; // Array<THREE.Camera>
		gltf.asset; // Object
		console.log('completado!.....')
		Mesa1.position.z+=1.587
		Mesa1.position.x+=-0.001
		Mesa1.position.y+=0.258
	},
	// called while loading is progressing
	function ( xhr ) {
		console.log( ( xhr.loaded / xhr.total * 100 ) + '% loaded' );
	},
	// called when loading has errors
	function ( error ) {
		console.log( 'An error happened' );
	}
); 
	</script>
	<!-- <script>
var Vtiempo=[];
var Seno=[];
var Po=5;
var Wn=2*Math.PI;
var Segundos=20;
function contador (){
	var contador1=0;
 function Senoiterativo (){
	Vtiempo[contador1]=contador1;
	Seno[contador1]=Po*Math.sin(Wn*contador1);
	contador1++;
console.log(Vtiempo);
if (contador1==Segundos+1){
clearInterval(tiempo);
}
}
var tiempo=setInterval(Senoiterativo,1000)
}
contador()
	</script> -->
</body>
</html>